(function(t){function e(e){for(var i,r,s=e[0],p=e[1],c=e[2],u=0,f=[];u<s.length;u++)r=s[u],n[r]&&f.push(n[r][0]),n[r]=0;for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(t[i]=p[i]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var p=a[s];0!==n[p]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={puser:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=p;o.push([29,"chunk-vendors","chunk-common"]),a()})({29:function(t,e,a){t.exports=a("500f")},"500f":function(t,e,a){"use strict";a.r(e);a("8a58");var i=a("e41f"),n=(a("e7e5"),a("d399")),o=(a("4b0a"),a("2bb1")),r=(a("7844"),a("5596")),s=a("9ab4"),p=(a("3a37"),a("fdfc"),a("60a3")),c=a("1831"),l=a("65d9"),u=a.n(l),f=a("90ae"),h=a("dfdf"),g=a("a306"),m=a("9347"),d=a("7fd0"),y=a("b890"),v=a("42d1"),_=a("9d9a"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex_center"},[i("div",{staticClass:"top_s1"},[i("p",{staticClass:"nickname_title",staticStyle:{"margin-top":"5px"}},[t._v(t._s(t.$t("puser.r12")))]),i("a",{staticClass:"cancel_s1"},[i("img",{staticClass:"img_filter",staticStyle:{width:"10px"},attrs:{src:a("93a4"),alt:""},on:{click:t.onClose}})])]),i("div",{staticClass:"flex_center",staticStyle:{width:"260px",height:"260px",display:"inline-block"}},[null!=t.option.img?i("vue-cropper",{ref:"cropper",staticStyle:{width:"260px",height:"260px"},attrs:{img:t.option.img,info:!0,fixedBox:!1,high:!0,original:!0,autoCrop:!0,full:!0,fixed:!0}}):t._e(),null==t.option.img?i("img",{staticStyle:{"margin-top":"60px"},attrs:{src:a("ff39")}}):t._e()],1),i("div",{staticStyle:{"margin-bottom":"10px",position:"relative"}},[i("button",{staticClass:"normal_btn"},[t._v(t._s(t.$t("puser.r11")))]),i("input",{ref:"imageUpInput",staticClass:"update_input",attrs:{id:"imageUpBtn",type:"file",accept:"image/*"},on:{change:t.onChooseImage}}),i("button",{staticClass:"normal_btn",staticStyle:{"margin-left":"20px"},on:{click:t.saveImage}},[t._v(t._s(t.$t("puser.r3")))])])])},C=[],S=a("7e79"),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.option={img:null,outputType:"png"},e}return s["c"](e,t),e.prototype.onChooseImage=function(t){var e=this,a=t.target.files||t.dataTransfer.files;if(a.length){var i=a[0];if(i.size>512e3)Object(n["a"])("图片大小限制500k(Image size limit 500k)!");else if(0==i.type.indexOf("image")){var o=new FileReader;o.readAsDataURL(i),o.onload=function(t){var a=this.result;e.option.img=a}}}},e.prototype.saveImage=function(){if(null!=this.option.img){var t=this;this.$refs.cropper.getCropData(function(e){t.$emit("on-upload-avatar",e)})}},e.prototype.onClose=function(){this.$emit("on-close")},e=s["b"]([Object(p["a"])({components:{"vue-cropper":S["VueCropper"]}})],e),e}(p["c"]),k=I,U=k,E=a("2877"),T=Object(E["a"])(U,b,C,!1,null,null,null);T.options.__file="UserAvatarEidt.vue";var w=T.exports,L=(a("db4d"),a("d939")),P=a("a925"),x=a("7d83");p["c"].config.productionTip=!1,p["c"].use(r["a"]),p["c"].use(o["a"]),p["c"].use(n["a"]),p["c"].use(i["a"]),p["c"].use(P["a"]);h["a"].getInstace();var N=f["a"].getInstance();N.initNoRefresh();var A=new P["a"](N),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.appParam=h["a"].getInstace(),e.bgImg="images/bg_img.jpg",e.notifyList=[],e.bannerList=[],e.user_url="",e.http=new c["a"],e}return s["c"](e,t),e.prototype.created=function(){this.imageHeadUrl=y["a"].getImgBaseUrl(),this.webUrl=y["a"].getWebBaseUrl(),this.setBaseUrl(y["a"].getBaseUrl()),this.init(),this.getNotifyList(),this.getAcitivityLsit()},e.prototype.tokenExpired=function(){x["a"].loginOut(),L["a"].backHome()},e.prototype.mounted=function(){this.changeBg()},e.prototype.changeBg=function(){var t=v["a"].getInstance().getFactory(this.appParam.platform),e=t.getbackground(1);""!=e&&(this.bgImg=e)},e.prototype.goRecharge=function(){var t=v["a"].getInstance().getFactory(this.appParam.platform);t.gotoRecharge()},e.prototype.goNotice=function(){var t=v["a"].getInstance().getFactory(this.appParam.platform),e=L["a"].getWebHeadUrl(this.webUrl,this.appParam);e+=L["a"].HTML_NAME_NOTIFY,t.jumpUrl(e)},e.prototype.goNoticeDetail=function(t){var e=v["a"].getInstance().getFactory(this.appParam.platform),a=L["a"].getWebHeadUrl(this.webUrl,this.appParam);a=a+L["a"].HTML_NAME_DETAILS_NOTICE+t+".html",e.jumpUrl(a)},e.prototype.goActivity=function(){v["a"].getInstance().getFactory(this.appParam.platform)},e.prototype.goActivityDetail=function(t){v["a"].getInstance().getFactory(this.appParam.platform)},e.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},e.prototype.execute=function(){},e.prototype.getNotifyList=function(){return s["a"](this,void 0,void 0,function(){var t,e,a,i;return s["d"](this,function(n){switch(n.label){case 0:return t=c["a"].URL_NEWS,e=new g["b"],e.page=0,e.size=5,e.support_type=3,e.class_type=0,e.region_code=this.appParam.region_code,a=this,[4,this.http.get(t,e)];case 1:if(a.backData=n.sent(),this.backData.code==c["a"].HTTP_SUCCESS_NET_CODE)for(i in this.notifyList=this.backData.data.list.slice(0,4),this.notifyList)this.notifyList[i].date_time=m["a"].formatDataTime2(this.notifyList[i].publish_time_year,this.notifyList[i].publish_time_month,this.notifyList[i].publish_time_day);return[2]}})})},e.prototype.getAcitivityLsit=function(){return s["a"](this,void 0,void 0,function(){var t,e,a;return s["d"](this,function(i){switch(i.label){case 0:return t=c["a"].URL_ACTIVITY_LIST,e=new g["a"],e.page=0,e.size=3,e.type="1",e.plat_type=3,e.region_code=this.appParam.region_code,a=this,[4,this.http.get(t,e)];case 1:return a.backData=i.sent(),this.backData.code==c["a"].HTTP_SUCCESS_NET_CODE&&(this.bannerList=this.backData.data.list,this.bannerList.length>=5&&(this.bannerList=this.bannerList.slice(0,5))),[2]}})})},e.prototype.clickChangeNickname=function(){this.nicknameDialogVisible=!0},e.prototype.onCloseChangeNickname=function(){this.nicknameDialogVisible=!1,this.newNickname=""},e.prototype.enterToEdit=function(){""!=this.newNickname&&(this.onSaveUserInfo(this.newNickname),this.nicknameDialogVisible=!1)},e.prototype.onSaveUserInfoSuccess=function(){n["a"].success(_["a"].getTipsMsg(_["a"].KEY_NOTIF_RESETNICKNAME_SUCCESS));var t=v["a"].getInstance().getFactory(this.appParam.platform);t.editNicknameSuccess(this.userInfo.nickname)},e.prototype.onEditAvatar=function(){if(null!=this.appParam&&1==this.appParam.platform){if(0==this.appParam.vType)return;var t=L["a"].getWebHeadUrl(this.webUrl,this.appParam);this.user_url=t+L["a"].HTML_NAME_USER+"?account_token="+this.appParam.account_token;var e=v["a"].getInstance().getFactory(this.appParam.platform);e.jumpUrl(this.user_url)}else this.editAvatarVisible=!0},e.prototype.onCloseEditAvatar=function(){this.editAvatarVisible=!1},e.prototype.onUploadAvatar=function(t){this.uploadAvatar(t)},e.prototype.uploadAvatarSuccess=function(){n["a"].success(_["a"].getTipsMsg(_["a"].KEY_NOTIF_RESETNICKNAME_SUCCESS))},e.prototype.onChangeLanguage=function(t){N.changeLanguage(t,!1),A.locale=N.locale,y["a"].log("切换语言:"+N.locale)},e=s["b"]([u()({components:{"user-edit-avatar":w}})],e),e}(d["a"]);new O({i18n:A}).$mount("#app")},ff39:function(t,e,a){t.exports=a.p+"img/head_edit.png"}});