(function(t){function e(e){for(var o,r,s=e[0],c=e[1],d=e[2],l=0,f=[];l<s.length;l++)r=s[l],n[r]&&f.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(f.length)f.shift()();return a.push.apply(a,d||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],o=!0,s=1;s<i.length;s++){var c=i[s];0!==n[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var o={},n={activity_hanjia:0},a=[];function r(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=o,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var p=c;a.push([2,"chunk-vendors","chunk-common"]),i()})({2:function(t,e,i){t.exports=i("2774")},2774:function(t,e,i){"use strict";i.r(e);i("7514"),i("cadf"),i("551c"),i("f751"),i("097d");var o=i("9ab4"),n=(i("eb65"),i("fdfc"),i("db4d"),i("60a3")),a=i("1157"),r=i.n(a),s=i("a925"),c=i("dfdf"),d=i("1396"),p=i("82f5"),l=i("9347"),f=i("7d83"),u=i("0a56"),h=i("a123"),g=i("b311"),_=i.n(g),y=i("d939");n["c"].config.productionTip=!1,n["c"].use(s["a"]);c["a"].getInstace(l["a"].REGION_CODE_1,l["a"].ZH_CN);var m=d["a"].getInstance();m.init();var b=new s["a"](m),v={index:-1,count:0,timer:null,speed:20,times:0,cycle:50,prize:-1,init:function(t){if(r()("#"+t).find(".hj_prize").length>0){var e=r()("#"+t),i=e.find(".hj_prize");this.obj=e,this.count=i.length,e.find(".hj_prize_"+this.index).addClass("active")}},roll:function(){var t=this.index,e=this.count,i=this.obj;return r()(i).find(".hj_prize_"+t).removeClass("active"),t+=1,t>e-1&&(t=0),r()(i).find(".hj_prize_"+t).addClass("active"),this.index=t,!1},stop:function(t){return this.prize=t,!1}},w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activity_id=170,e.appParam=c["a"].getInstace(),e.dialog_award=!1,e.dialog_guize=!1,e.dialog_no_login=!1,e.dialog_recharge=!1,e.dialog_copy_ref_link=!1,e.dialog_error=!1,e.dialog_win=!1,e.sina_link="https://weibo.com/p/1006066443936086/manage?from=page_100606&mod=TAB#place",e.dialog_msg="",e.refer_code_txt="",e}return o["c"](e,t),e.prototype.mounted=function(){v.init("prize"),this.getAwardList()},e.prototype.created=function(){this.imageHeadUrl=p["a"].getImgBaseUrl(),this.account_token=f["a"].getUserToken().account_token,this.setBaseUrl(p["a"].getBaseUrl()),this.getActivityId(),this.getActivityDetail(),this.getReferActivitys(),""==this.account_token&&(this.refer_code_txt="请先登录!")},e.prototype.onClickAward=function(){r()("body").addClass("body_fixed"),""!=this.account_token?(this.dialog_award=!0,this.getActiveRecordList(1,6)):this.dialog_award=!0},e.prototype.onClickGuize=function(){this.dialog_guize=!0,r()("body").addClass("body_fixed")},e.prototype.onCloseGuize=function(){this.dialog_guize=!1,r()("body").removeClass("body_fixed")},e.prototype.onCloseRecharge=function(){this.dialog_recharge=!1,r()("body").removeClass("body_fixed")},e.prototype.onClickDraw=function(){if(!this.isBengin){if(""==this.account_token)return r()("body").addClass("body_fixed"),void(this.dialog_no_login=!0);if(this.aCount<=0)return r()("body").addClass("body_fixed"),void(this.dialog_recharge=!0);this.isBengin=!0,this.onDraw(0,1e3)}},e.prototype.onDrawWin=function(t){this.points=t.data.points,this.getActivityCount(),v.speed=100,this.roll()},e.prototype.onDrawLose=function(t){this.isBengin=!1,this.isWin=!1,this.dialog_error=!0,this.dialog_msg=t.msg,this.points=t.data.points,this.getActivityCount()},e.prototype.continueDraw=function(){this.isBengin=!1,this.isWin=!1,this.dialog_win=!1,this.dialog_msg=""},e.prototype.gotoLogin=function(){if(this.checkEnvironment(),4==this.appParam.platform)window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxcde8e099ce962bf6&redirect_uri=https://webapi.leigod.com/wap/auth&response_type=code&scope=snsapi_userinfo&state=hanjia&connect_redirect=1#wechat_redirect";else{var t="platform="+this.appParam.platform;h["a"].gotoLogin(t)}},e.prototype.checkEnvironment=function(){y["a"].isDeviceWx()?this.appParam.platform=4:y["a"].isDeviceAndroid()?this.appParam.platform=2:y["a"].isDeviceIos()?this.appParam.platform=3:this.appParam.platform=0},e.prototype.gotoRecharge=function(){if(""==this.account_token)return r()("body").addClass("body_fixed"),void(this.dialog_no_login=!0);var t="platform="+this.appParam.platform;h["a"].gotoRecharge(t)},e.prototype.generateRefercodeLink=function(t){this.refer_code_txt="邀请码： "+t,this.refer_code=t},e.prototype.copyRefercodeLink=function(){if(r()("body").addClass("body_fixed"),""!=this.account_token){var t=this,e=new _.a("#copyBtn",{text:function(){return t.refer_code}});e.on("success",function(e){e.clearSelection(),t.dialog_copy_ref_link=!0})}else this.dialog_no_login=!0},e.prototype.onCloseNologin=function(){this.dialog_no_login=!1,r()("body").removeClass("body_fixed")},e.prototype.closeDialog=function(){this.dialog_msg="",this.dialog_error=!1,this.dialog_copy_ref_link=!1,this.dialog_win=!1,this.dialog_award=!1,r()("body").removeClass("body_fixed")},e.prototype.tokenExpired=function(t){void 0===t&&(t=null),f["a"].loginOut(),this.account_token=""},e.prototype.getAwardListSuccess=function(){this.initAwardList()},e.prototype.initAwardList=function(){this.awardList.length<=5||r()(function(){setInterval(function(){var t=r()("#jilu_box");t.animate({},400,function(){t.find("li").eq(0).appendTo(t)})},2e3)})},e.prototype.roll=function(){if(v.times+=1,v.roll(),v.times>v.cycle+10&&v.prize==v.index){clearTimeout(v.timer),v.prize=-1,v.times=0;var t=this;setTimeout(function(){r()("body").addClass("body_fixed"),t.isBengin=!1,t.dialog_win=!0,t.dialog_msg=t.awardInfo.title},2e3)}else{if(v.times<v.cycle)v.speed-=10;else if(v.times==v.cycle){var e=0;switch(this.awardInfo.present_id){case 31:e=0;break;case 33:e=2;break;case 34:e=5;break;case 35:e=3;break;case 36:e=1;break;case 37:e=4;break;default:break}v.prize=e}else v.times>v.cycle+10&&2==v.prize&&3==v.index||v.prize==v.index+1?v.speed+=110:v.speed+=20;v.speed<40&&(v.speed=40),v.timer=setTimeout(this.roll,v.speed)}return!1},e=o["b"]([n["a"]],e),e}(u["a"]);new w({i18n:b}).$mount("#app")}});