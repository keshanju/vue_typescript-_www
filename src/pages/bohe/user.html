<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="p:domain_verify" content="1840b2cd5dae2761392f23daff8540f5" />
    <script src="https://hm.baidu.com/hm.js?9513e0c1768e0f11b637a3b4be7d9131"></script>
    <!-- Google Tag Manager -->
    <script>(
            function (w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                    'gtm.start': new Date().getTime(), event: 'gtm.js'
                });
                var f = d.getElementsByTagName(s)[0];
                var j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-WT2CCTQ');
    </script>
    <!-- End Google Tag Manager -->
    <title>用户中心</title>
    <meta name="keywords" content="a1">
    <meta name="description" content="a1">
    <style>
        img{
            max-width: 100%;
        }
    </style>
</head>

<body>
    <div v-cloak id="app">
        <!-- 头部 -->
        <div class="wrap_of_header bg_com3">
            <head-nav ref="head" v-on:changelanguage="onChangeLanguage"></head-nav>
        </div>
        <div class="wrap_of_user_bh">
            <!-- container -->
            <div class="main_container_bh">
                <div class="l_container_bh left_bh">
                    <div class="wrap_of_user_info_bh">
                        <div class="wrap_top_user_info">
                            <div class="avatar_user_bh cursor_pointer">
                                <img class="head_avatar" @click="onEditAvatar" :src="userInfo.avatar" alt="" style="width: 64px;height: 64px;">
                                <!--<p @click="onEditAvatar" class="edit_avtar_bh">{{$t("user.z1")}}</p>-->
                            </div>
                            <div class="nickname_user_bh">
                                <div class="be_suer_edit">
                                    <p class="user_nickname" v-text="userInfo.nickname" style="max-width: 100%;"></p>
                                    <a style="display: none;" v-show="!isGuest" class="edit_img_bh" @click="nicknameDialogOpen">
                                        <img src="./images/edit_normal.png" alt="">
                                    </a>
                                </div>
                            </div>
                            <a v-show="webParam.region_code == 0" class="txt_package_info_user">{{userInfo.package_title}}</a>
                            <a v-show="webParam.region_code == 1" class="txt_package_info_user">{{$t("index.b22")}}</a>

                            <p v-show="webParam.region_code == 0" class="acc_sur_time">{{$t("user.z2")}}</p>

                            <div v-show="webParam.region_code == 0" class="surplus_time_user">{{userInfo.expiry_time}}</div>
                            <a class="normal_btn show_bh m-top" @click="loginOutDialogOpen">{{$t("user.z3")}}</a>
                        </div>
                        <div class="wrap_of_service_bh">
                            <!-- <div class="title_service_bh">
                                {{$t("user.z4")}}
                            </div> -->
                            <!-- <div class="connect_custumer_bh base_font_col">
                                {{$t("user.z5")}}
                            </div> -->
                            <div class="connect_number_bh">
                                <p>{{$t("foot.c11")}}</p>
                                <p style="margin-top: 10px;"></p>
                                <a v-if="webParam.region_code == 0" href="mailto:customer@bohe.com" class="offical_num">customer@bohe.com</a>
                                <a v-if="webParam.region_code == 1" class="blue_btn_0" @click="onUchat">{{$t("head.a14")}}</a>
                                <p style="margin-top: 20px;"></p>
                            </div>
                            <div class="focus_on_wehcat_bh">
                                <img src="./images/wechat.png" alt="" class="img_filter">
                                <p>{{$t("user.z7")}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="r_container_bh right_bh">
                    <div class="wrap_list_usercenter_bh flex_cen clearfix_a words_col2">
                        <div v-show="region_code == 1" @click="changePage(4)" class="com_pb_s1" :class="{userNav_active:pageIndex == 4}">{{$t("user.z33")}}</div>
                        <div v-show="region_code == 0" @click="changePage(0)" class="com_pb_s1" :class="{userNav_active:pageIndex == 0}">{{$t("user.z8")}}</div>
                        <div v-show="region_code == 0" @click="changePage(1)" class="com_pb_s1" :class="{userNav_active:pageIndex == 1}">{{$t("user.z9")}}</div>
                        <!-- 兑奖列表 -->
                        <div v-show="region_code == 0" @click="changePage(5)" class="com_pb_s1" :class="{userNav_active:pageIndex == 5}">{{$t("user.z46")}}</div>
                        <div @click="changePage(2)" class="com_pb_s1" :class="{userNav_active:pageIndex == 2}">{{$t("user.z10")}}</div>
                        <div @click="changePage(3)" class="com_pb_s1" :class="{userNav_active:pageIndex == 3}">{{$t("user.z11")}}</div>
                    </div>
                    <div class="wrap_of_user_component_bh">
                        <div class="free_use" v-show="pageIndex == 4">
                            <user-free-down></user-free-down>
                            <!-- 分享功能 -->
                            <p class="free_share">{{$t("user.z41")}}</p>
                            <div class="share_box">
                                <div>
                                    <share-to v-if="webParam.region_code==1"  @show_code_img="showWxImg"
                                              share-page="user"
                                              size="40px"></share-to>
                                </div>
                            </div>
                            <!-- 分享功能 END -->
                        </div>
                        <!---->
                        <user-agreement v-show="pageIndex == 3"></user-agreement>
                        <!---->
                        <user-safety ref="safety" v-show="pageIndex == 2" :userinfo="userInfo" v-on:resetpassword="onResetPwd"
                            :loading="isLoading" v-on:sendverificationcode="onSendVerificationCode" v-on:setsecondpwd="onSetSecondPwd">
                        </user-safety>
                        <!---->
                        <user-order ref="orderList" v-show="pageIndex == 1" :payshowobj="payShowConfig" v-on:onbeginpay="onBeginPay"></user-order>
                        <user-prize ref="prizeList" v-show="pageIndex == 5"></user-prize>
                        <!---->
                        <user-recharge style="display: none;" ref="recharge" v-show="pageIndex == 0" :payshowobj="payShowConfig"
                            v-on:onbeginpay="onBeginPay">
                        </user-recharge>
                    </div>
                </div>
            </div>
        </div>
        <div v-show="showChart" class="news-wxTip" :style="{left:divLeft,top:divTop}">
            <p><span>分享到微信朋友圈</span><span @click="showChart=false" class="news-wxTip__close">X</span></p>
            <img :src="wxImgSrc" class="news-wxTip__img">
            <p>打开微信，点击底部的“发现”</p>
            <p>使用“扫一扫”即可将网页分享至朋友圈。</p>
        </div>
        <!-- 底部 -->
        <div class="wrap_of_footer">
            <foot-nav v-on:ondownloadconfig="onDownloadConfig"></foot-nav>
        </div>

        <!-- 支付弹窗 -->
        <el-dialog width="50%" :visible.sync="payDialogVisible" @close="onClosePyaDialog" @opened="onOpenPyaDialog"
            :close-on-click-modal="false" :close-on-press-escape="false">
            <user-paydialog ref="payDialogCom" v-on:paysuccess="paySuccess" :payobj="payObj"></user-paydialog>
        </el-dialog>

        <!-- 修改昵称弹窗 -->
        <el-dialog :title="$t('user.z16')" width="30%" :visible.sync="nicknameDialogVisible" :close-on-click-modal="false"
            :close-on-press-escape="false">
            <input v-model="newNickname" type="text" style="margin:10px 20px;width:80%;line-height: 30px;height: 30px;text-indent: 10px;"
                maxlength="18" :placeholder="$t('user.z12')">
            <button class="normal_btn m-top" @click="saveUserNickname">{{$t("user.z13")}}</button>
            <button @click="nicknameDialogClose" class="normal_btn m_left m-top">{{$t("user.z14")}}</button>
        </el-dialog>

        <!-- 退出登录弹窗 -->
        <el-dialog :title="$t('user.z3')" width="30%" :visible.sync="loginOutDialogVisible" :close-on-click-modal="false"
            :close-on-press-escape="false">
            <p>{{$t("user.z15")}}</p>
            <button class="normal_btn m-top" @click="loginOut">{{$t("user.z13")}}</button>
            <button @click="loginOutDialogClose" class="normal_btn m_left m-top">{{$t("user.z14")}}</button>
        </el-dialog>

        <!--修改头像-->
        <el-dialog width="30%" :visible.sync="editAvatarVisible" @close="closedAvatarDailog">
            <user-edit-avatar v-on:on-upload-avatar="onUploadAvatar" ref="userEditAvatar"></user-edit-avatar>
        </el-dialog>
    </div>
</body>
</html>